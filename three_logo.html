
<!DOCTYPE html>
<html lang="en">
<head>
<title>Three.js</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<style>
    * {  margin: 0; padding: 0; border: 0; }
    @font-face { font-family: "SourceCode"; src:url("images/SourceCodePro.woff") format("woff");}
    body { background-color: #1d1f20; overflow: hidden; color: #eeeeee; font-family: "SourceCode"; font-size: 12px; }
    #container{ position: absolute; width:100%; height:100%; overflow: hidden;}
</style>
<script src="lib/three.min.67.js"></script>
<script src="lib/sea.min.js"></script>
</head>

<body>
<div id='container'></div>
<script>

var renderer, scene, camera, controls, pool, textureCube;
var areaLight, material0, material1, material2, mesh;
var t = 0, delta = 0.003;
var ToRad = Math.PI / 180;
var logo;

window.onload = init;


function init() {

	// renderer
	renderer = new THREE.WebGLRenderer({ antialias:true, alpha:false });
	renderer.setSize( window.innerWidth, window.innerHeight );
	document.getElementById("container").appendChild( renderer.domElement );
	//renderer.setClearColor(  0x000000 , 1 );
    //renderer.gammaInput = true;
    //renderer.gammaOutput = true;

	// scene
	scene = new THREE.Scene();
	
	// camera
	camera = new THREE.PerspectiveCamera( 20, window.innerWidth / window.innerHeight, 1, 1000 );
	camera.position.set( 0, 40, 250 );
	camera.lookAt(new THREE.Vector3( 0, 20, 0 ))

    /*var ambient = new THREE.AmbientLight( 0x101010 );
    scene.add( ambient );

    var directionalLight = new THREE.DirectionalLight( 0xffffff );
    directionalLight.position.set( 0, 70, 100 );//.normalize();
    directionalLight.target.position.set(0, 25, 0);
    scene.add( directionalLight );*/

    var pointLight0 = new THREE.PointLight( 0xFFFFFF,2 );
    pointLight0.position.set( 0, 70, 100 );
    scene.add( pointLight0 );

    var pointLight = new THREE.PointLight( 0xff5500,2 );
    pointLight.position.set( 100, 0, 50 );
    scene.add( pointLight );

    var pointLight2 = new THREE.PointLight( 0x0055ff,2 );
    pointLight2.position.set( -100, 0, -50 );
    scene.add( pointLight2 );


	var r = "images/sky2/";

	var urls = [ r + "px.jpg", r + "nx.jpg", r + "py.jpg", r + "ny.jpg", r + "pz.jpg", r + "nz.jpg" ];
	textureCube = THREE.ImageUtils.loadTextureCube( urls, new THREE.CubeRefractionMapping() );


	

	animate();

	window.addEventListener( 'resize', resize, false );

	//pool = new SEA3D.Pool('models/three.sea', initModel);
	pool = new SEA3D.Pool('models/three.high.sea', initModel);

}



function initModel(){
    var mat01 = new THREE.MeshPhongMaterial( {color:0xFFFFFF, specular: 0xFFFFFF, shininess: 60, reflectivity:0.6, envMap:textureCube, combine:THREE.MixOperation } );
    var mat02 = new THREE.MeshPhongMaterial( {color:0xFFFFFF, specular: 0xFFFFFF, shininess: 60, reflectivity:0.6, envMap:textureCube, combine:THREE.MixOperation, transparent: true, opacity:0.6 } );

	var geo01 = pool.getGeometry('three01', true, 0.8);
	var geo02 = pool.getGeometry('three02', true, 0.8);
	var geo03 = pool.getGeometry('three03', true, 0.8);

	var m01 = new THREE.Mesh( geo01, mat01 );
	var m02 = new THREE.Mesh( geo02, mat02 );
	m01.rotation.x = m02.rotation.x = 45*ToRad
	m01.rotation.z = m02.rotation.z = 45*ToRad

	var m03 = new THREE.Mesh( geo03, mat01 );

	logo = new THREE.Object3D();

	logo.add( m01 );
	logo.add( m02 );

	scene.add( logo );
	scene.add( m03 );
	logo.position.set( -20, 31, 0 );
	m03.position.set( 18, 20, 0 );
	m03.rotation.x = -0.3;
}

function resize(){
    renderer.setSize( window.innerWidth,window.innerHeight );
    camera.aspect = ( window.innerWidth/window.innerHeight );
    camera.updateProjectionMatrix();
}

function animate() {

	requestAnimationFrame( animate );

	if(logo) logo.rotation.y += 0.008;

	renderer.render( scene, camera );

}

</script>
</body>
</html>