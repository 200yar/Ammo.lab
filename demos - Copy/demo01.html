<meta charset="utf-8">
<script>
function CLEAR(o){};
CLEAR({broadphase:"BVT", timer:false, timestep:1/60, iteration:2, G:-10});

function initDemo()
{
    NAME("In the Box");
    // ground
    ADD({type:"ground", size:[5.5,3,5.5], pos:[0,-1.5,0]});
    // wall
    ADD({ type:"boxbasic", size:[4.5,10,0.5], pos:[0,5,-2.5] });
    ADD({ type:"boxbasic", size:[4.5,10,0.5], pos:[0,5, 2.5] });
    ADD({ type:"boxbasic", size:[0.5,10,5.5], pos:[-2.5,5,0] });
    ADD({ type:"boxbasic", size:[0.5,10,5.5], pos:[ 2.5,5,0] });
    
    // dynamique object
    var max = 200;
    var px, pz, t, n = 3;
    var sx, sy, sz;

    for (var i=0; i!==max; ++i ){
        t = Math.floor(Math.random()*n)+1;
        px = -1+Math.random()*2;
        pz = -1+Math.random()*2;
        py = i;

        sx = 0.2+Math.random();
        sy = 0.2+Math.random();
        sz = 0.2+Math.random();
        if(t==1) ADD({ type:"sphere", size:[sx*0.5], pos:[px,py,pz], mass:1 });
        else if(t==2) ADD({ type:"box", size:[sx,sy,sz], pos:[px,py,pz], mass:1 });
        else if(t==3) ADD({ type:"cylinder", size:[sx*0.5,sy,sx*0.5], pos:[px,py,pz], mass:1 });
    }
}
</script>